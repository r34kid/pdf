<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Fake Tinder Prototype</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

body {
  background: #111;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  color: white;
}

.app {
  width: 100%;
  max-width: 420px;
  height: 100vh;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.card-container {
  position: relative;
  width: 100%;
  height: 70vh;
}

.card {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  background-size: cover;
  background-position: center;
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  display: flex;
  align-items: flex-end;
  padding: 20px;
  transition: transform 0.3s ease, opacity 0.3s ease;
  touch-action: none;
}

.card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 20px;
  background: linear-gradient(to top, rgba(0,0,0,0.8), transparent 60%);
}

.info {
  position: relative;
  z-index: 2;
}

.info h2 {
  font-size: 24px;
  margin-bottom: 5px;
}

.info p {
  font-size: 14px;
  opacity: 0.8;
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin-top: 30px;
}

.btn {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  border: none;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
  transition: transform 0.2s;
}

.btn:active {
  transform: scale(0.9);
}

.nope {
  background: white;
  color: #ff4458;
}

.like {
  background: white;
  color: #1be4a1;
}
</style>
</head>

<body>

<div class="app">
  <div class="card-container" id="cardContainer"></div>

  <div class="buttons">
    <button class="btn nope" onclick="swipe('left')">✕</button>
    <button class="btn like" onclick="swipe('right')">❤</button>
  </div>
</div>

<script>
const profiles = [
  {
    name: "Алина, 24",
    desc: "Люблю путешествия и латте на овсяном",
    img: "https://picsum.photos/400/700?random=1"
  },
  {
    name: "Максим, 27",
    desc: "Спортзал, кино и немного философии",
    img: "https://picsum.photos/400/700?random=2"
  },
  {
    name: "София, 22",
    desc: "Ищу приключения и интересные разговоры",
    img: "https://picsum.photos/400/700?random=3"
  }
];

let currentIndex = 0;
const container = document.getElementById("cardContainer");

function createCard(profile) {
  const card = document.createElement("div");
  card.className = "card";
  card.style.backgroundImage = `url(${profile.img})`;

  card.innerHTML = `
    <div class="info">
      <h2>${profile.name}</h2>
      <p>${profile.desc}</p>
    </div>
  `;

  addSwipe(card);
  return card;
}

function renderCards() {
  container.innerHTML = "";
  for (let i = 0; i < 3; i++) {
    const profile = profiles[(currentIndex + i) % profiles.length];
    const card = createCard(profile);
    card.style.zIndex = 3 - i;
    card.style.transform = `scale(${1 - i * 0.05}) translateY(${i * 10}px)`;
    container.appendChild(card);
  }
}

function swipe(direction) {
  const topCard = container.children[0];
  if (!topCard) return;

  const moveX = direction === "right" ? window.innerWidth : -window.innerWidth;
  topCard.style.transition = "transform 0.4s ease";
  topCard.style.transform = `translateX(${moveX}px) rotate(${direction === "right" ? 20 : -20}deg)`;
  topCard.style.opacity = "0";

  setTimeout(() => {
    currentIndex = (currentIndex + 1) % profiles.length;
    renderCards();
  }, 400);
}

function addSwipe(card) {
  let startX = 0;
  let currentX = 0;
  let isDragging = false;

  card.addEventListener("pointerdown", (e) => {
    startX = e.clientX;
    isDragging = true;
    card.style.transition = "none";
  });

  card.addEventListener("pointermove", (e) => {
    if (!isDragging) return;
    currentX = e.clientX - startX;
    card.style.transform = `translateX(${currentX}px) rotate(${currentX * 0.05}deg)`;
  });

  card.addEventListener("pointerup", () => {
    isDragging = false;
    card.style.transition = "transform 0.3s ease";

    if (Math.abs(currentX) > 100) {
      swipe(currentX > 0 ? "right" : "left");
    } else {
      card.style.transform = "";
    }
  });
}

renderCards();
</script>

</body>
</html>
